;//////////////////////////////////////////////////////////////////////////

%macro RGB_777_TO_16 3      ; %1=b %2=c %3=a   _BX:a,c,b
   mov %{1}l,%{2}l
   mov %{3}x, [RGB71_To_16+256*0+e%{1}x*2]
   mov %{1}l,%{2}h
   or  %{3}x, [RGB71_To_16+256*2+e%{1}x*2]
   shr e%{2}x,16
   or  %{3}x, [RGB71_To_16+256*4+e%{2}x*2]
%endmacro

%macro RGB_777_TO_16_M 3      ; %1=b %2=c %3=a   _BX:a,c,b
   mov %{1}l,%{2}l
   mov %{3}x, [RGB71_To_16_M+256*0+e%{1}x*2]
   mov %{1}l,%{2}h
   or  %{3}x, [RGB71_To_16_M+256*2+e%{1}x*2]
   shr e%{2}x,16
   or  %{3}x, [RGB71_To_16_M+256*4+e%{2}x*2]
%endmacro

%macro RGB_777_TO_16_REMAP 3      ; %1=b %2=c %3=a   _BX:a,c,b
   mov %{1}l,%{2}l
   mov %{3}x, [RGB71_To_16_Remap+256*0+e%{1}x*2]
   mov %{1}l,%{2}h
   or  %{3}x, [RGB71_To_16_Remap+256*2+e%{1}x*2]
   shr e%{2}x,16
   or  %{3}x, [RGB71_To_16_Remap+256*4+e%{2}x*2]
%endmacro

;//////////////////////////////////////////////////////////////////////////

%macro RGB16_TO_777 3      ; %1=b  %2=a %3=c
   mov %{1}l,%{2}l
   mov e%{3}x,[Lo16_To_777+e%{1}x*4]      ; Lo16_To_777[In&0xFF]
   mov %{1}l,%{2}h
   add e%{3}x,[Hi16_To_777+e%{1}x*4]      ; Hi16_To_777[In>>8]
%endmacro

%macro RGB16_TO_777_Add 3      ; %1=b  %2=a %3=c
   mov %{1}l,%{2}l
   add e%{3}x,[Lo16_To_777+e%{1}x*4]      ; Lo16_To_777[In&0xFF]
   mov %{1}l,%{2}h
   add e%{3}x,[Hi16_To_777+e%{1}x*4]      ; Hi16_To_777[In>>8]
%endmacro

%macro RGB16_TO_777_M  3      ; %1=b  %2=a %3=c
   mov %{1}l,%{2}l
   add e%{3}x,[Lo16_To_777_M+e%{1}x*4]      ; Lo16_To_777[In&0xFF]
   mov %{1}l,%{2}h
   add e%{3}x,[Hi16_To_777_M+e%{1}x*4]      ; Hi16_To_777[In>>8]
%endmacro
%macro RGB16_TO_777_M_Add 3      ; %1=b  %2=a %3=c
   mov %{1}l,%{2}l
   add e%{3}x,[Lo16_To_777_M+e%{1}x*4]      ; Lo16_To_777[In&0xFF]
   mov %{1}l,%{2}h
   add e%{3}x,[Hi16_To_777_M+e%{1}x*4]      ; Hi16_To_777[In>>8]
%endmacro

;//////////////////////////////////////////////////////////////////////////
;//////////////////////////////////////////////////////////////////////////
;//////////////////////////////////////////////////////////////////////////
;//////////////////////////////////////////////////////////////////////////
;//////////////////////////////////////////////////////////////////////////
;//////////////////////////////////////////////////////////////////////////

%macro RGB_777_TO_16 3      ; %1=b %2=c %3=a   _BX:a,c,b
   mov %{3}x,%{2}x
   shr e%{2}x,16
   mov %{3}x, [RGB71_To_16+e%{3}x*2]
   or  %{3}x, [Big_777_To_16_GB+e%{2}x*2]
%endmacro

%macro RGB_777_TO_16_M 3      ; %1=b %2=c %3=a   _BX:a,c,b
   mov %{1}l,%{2}l
   mov %{3}x, [RGB71_To_16_M+256*0+e%{1}x*2]
   mov %{1}l,%{2}h
   or  %{3}x, [RGB71_To_16_M+256*2+e%{1}x*2]
   shr e%{2}x,16
   or  %{3}x, [RGB71_To_16_M+256*4+e%{2}x*2]
%endmacro

%macro RGB_777_TO_16_REMAP 3      ; %1=b %2=c %3=a   _BX:a,c,b
   mov %{1}l,%{2}l
   mov %{3}x, [RGB71_To_16_Remap+256*0+e%{1}x*2]
   mov %{1}l,%{2}h
   or  %{3}x, [RGB71_To_16_Remap+256*2+e%{1}x*2]
   shr e%{2}x,16
   or  %{3}x, [RGB71_To_16_Remap+256*4+e%{2}x*2]
%endmacro


;//////////////////////////////////////////////////////////////////////////

%macro RGB16_TO_777 3      ; %1=b  %2=a %3=c
   mov %{3}x, [Big_16_To_777+e%{2}x*4]
%endmacro

%macro RGB16_TO_777_Add 3      ; %1=b  %2=a %3=c
   add %{3}x, [Big_16_To_777+e%{2}x*4]
%endmacro

%macro RGB16_TO_777_M  3      ; %1=b  %2=a %3=c
   mov %{3}x, [Big_16_To_777+e%{2}x*4]
%endmacro
%macro RGB16_TO_777_M_Add 3      ; %1=b  %2=a %3=c
   add %{3}x, [Big_16_To_777+e%{2}x*4]
%endmacro

;//////////////////////////////////////////////////////////////////////////
